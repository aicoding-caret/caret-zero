# Caret Project Rules (.caretrules) - Markdown Version

This file provides a human-readable overview of the project structure and development guidelines defined in the corresponding `.caretrules` JSON file.

## Project Overview

-   **Name:** Caret (formerly Cline-Alpha)
-   **Description:** VSCode extension for AI assistance, focusing on personalized development partnership.
-   **Repository:** [https://github.com/fstory97/cline](https://github.com/fstory97/cline)

## Architecture

-   **Summary:** Modular architecture with a Core TypeScript backend and a React webview frontend.
-   **Key Components:**
    -   **Core Extension (`src/`):** Handles backend logic, task execution, state, tools, webview communication. (Entry: `src/extension.ts`)
    -   **Webview UI (`webview-ui/`):** React frontend for user interaction and UI state. (Entry: `webview-ui/src/App.tsx`)
    -   **State Management:** Core state in `src/core/webview/ClineProvider.ts`, synced to webview (`webview-ui/src/context/ExtensionStateContext.tsx`) via messages.
    -   **Task Management (`src/core/task/index.ts`):** Manages task lifecycle, API calls, tools, state persistence.
    -   **Storage (Internal):** Handles persistence of task data (History, Messages) and workspace snapshots (Checkpoints via Git).
-   **Diagram:** Refer to `caret-docs/architecture/extension-architecture.mmd`

## Development Process

-   **State Management:** Core Extension (`ClineProvider`) is the source of truth. Sync state via messages.
-   **Tool Integration:** Follow patterns in `src/integrations/`, respect `.caretignore`.
-   **API Providers:** Implementations in `src/api/providers/`.
-   **Testing:** Refer to `caret-docs/testing/` for plans.
-   **Logging:** Use common logging system (see `caret-docs/development/logging-guide.md`).
-   **Checkpoints:** Managed by `src/integrations/checkpoints/CheckpointTracker.ts` (Git-based).
-   **Documentation:** Update relevant docs in `caret-docs/`.
-   **Contributing:** Refer to `CONTRIBUTING.md` for guidelines.
-   **Work Logs (`caret-docs/work-logs/`):**
    -   Daily: `{date}.md`
    -   Task: `tasks/{task-number}-{task-name}.md`
    -   Purpose: Maintain context, track progress.
-   **Git Rules:**
    -   Commit Format: `[type]: [description]`
    -   Branching: Standard Gitflow/feature branching (TBD).

## Key Files Reference

-   `.caretrules` (JSON source of truth)
-   `caret-docs/` (Project-specific documentation)
-   `src/extension.ts` (Extension entry point)
-   `src/core/task/index.ts` (Task management class)
-   `src/core/webview/ClineProvider.ts` (Core state provider)
-   `webview-ui/src/App.tsx` (Webview entry point)
-   `webview-ui/src/context/ExtensionStateContext.tsx` (Webview state context)
-   `agents-rules/alpha/` (Agent-specific rules and persona)
