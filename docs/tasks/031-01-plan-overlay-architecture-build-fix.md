# Task #031: ì˜¤ë²„ë ˆì´ ì•„í‚¤í…ì²˜ ë¹Œë“œ ì„¤ì • ìµœì¢… ìˆ˜ì •

## ğŸ“Œ **ê°€ì¥ ì¤‘ìš”í•œ í•µì‹¬ ì›ì¹™**

1.  **`Caret`ì€ `cline`ì˜ í™•ì¥ ë ˆì´ì–´ì…ë‹ˆë‹¤.**
    - `cline`ì€ ì›ë³¸ ì†ŒìŠ¤ì´ë©°, `Caret`ì€ ê·¸ ìœ„ì— ì¶”ê°€ ê¸°ëŠ¥ì„ ì–¹ëŠ” ì˜¤ë²„ë ˆì´ì…ë‹ˆë‹¤.

2.  **`cline`ê³¼ `Caret`ì€ ë°˜ë“œì‹œ ë…ë¦½ì ìœ¼ë¡œ ë¹Œë“œë˜ì–´ì•¼ í•©ë‹ˆë‹¤.**
    - `cline`ì„ ë¨¼ì € ë‹¨ë…ìœ¼ë¡œ ë¹Œë“œí•˜ì—¬ ì•ˆì •ì„±ì„ í™•ì¸í•œ í›„, `Caret` ë ˆì´ì–´ ë° ì „ì²´ í†µí•© ë¹Œë“œë¥¼ ì§„í–‰í•´ì•¼ í•©ë‹ˆë‹¤.

3.  **`cline`ì˜ ì†ŒìŠ¤ ì½”ë“œëŠ” ì ˆëŒ€ ì§ì ‘ ìˆ˜ì •í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.**
    - ëª¨ë“  ì»¤ìŠ¤í„°ë§ˆì´ì§•ê³¼ ê¸°ëŠ¥ ì¶”ê°€ëŠ” `caret/` ë””ë ‰í† ë¦¬ ë‚´ì—ì„œë§Œ ì´ë£¨ì–´ì ¸ì•¼ í•©ë‹ˆë‹¤.
    - **ì˜ˆì™¸**: `cline`ì˜ ë…ë¦½ ë¹Œë“œ ìì²´ê°€ ë¶ˆê°€ëŠ¥í•œ í™˜ê²½ í˜¸í™˜ì„± ë¬¸ì œì˜ ê²½ìš°, ë¹Œë“œë¥¼ ìœ„í•´ ìµœì†Œí•œìœ¼ë¡œ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ìƒì„¸ ë‚´ìš©ì€ ë¨¸ì§• ì „ëµ ë¬¸ì„œ ì°¸ê³ )

---

## ğŸ“š **í•„ìˆ˜ ì°¸ê³  ë¬¸ì„œ - Caret-Cline ë¨¸ì§• ì „ëµ**

> **ì¶œì²˜: [docs/strategy-archive/caret-cline-merging-strategy-2025.md](../strategy-archive/caret-cline-merging-strategy-2025.md)**

### ğŸ¯ **ì˜¤ë²„ë ˆì´ ì•„í‚¤í…ì²˜ í•µì‹¬ ê°œë…**
```
ğŸ“ ëª©í‘œ êµ¬ì¡°
â”œâ”€â”€ cline/ (ì›ë³¸ Cline, ì ˆëŒ€ ê±´ë“œë¦¬ì§€ ì•ŠìŒ)
â”œâ”€â”€ caret/ (ì˜¤ë²„ë ˆì´ ë ˆì´ì–´ - Clineì„ í™•ì¥)
â”‚   â”œâ”€â”€ backend/ (PersonaManager ë“± Caret ë°±ì—”ë“œ)
â”‚   â”œâ”€â”€ frontend/ (Caret ì „ìš© React ì»´í¬ë„ŒíŠ¸)
â”‚   â”œâ”€â”€ config/ (í†µí•© ë¡œì§: ExtensionEnhancer, WebviewEnhancer)
â”‚   â””â”€â”€ assets/ (í…œí”Œë¦¿, ì•„ì´ì½˜)
â””â”€â”€ src/extension.ts (í†µí•© ì§„ì…ì : Cline + Caret)
```

### ğŸ”„ **ë¨¸ì§• í”Œë¡œìš°**
1. **Cline ì—…ë°ì´íŠ¸**: `cline/` í´ë”ë§Œ êµì²´
2. **Caret ê¸°ëŠ¥**: `caret/` í´ë”ëŠ” ì˜í–¥ë°›ì§€ ì•ŠìŒ
3. **ìë™ í†µí•©**: `src/extension.ts`ì—ì„œ ë‘ ì‹œìŠ¤í…œ ê²°í•©

---

## ğŸ“Š **í˜„ì¬ ìƒí™© ì ê²€ (2025-01-11 ì˜¤í›„)**

### âœ… **ì™„ë£Œëœ ì‘ì—…ë“¤ (95%)**
- âœ… **ë””ë ‰í† ë¦¬ êµ¬ì¡°**: ì˜¤ë²„ë ˆì´ ì•„í‚¤í…ì²˜ 100% ì™„ì„±
- âœ… **íŒŒì¼ ë¶„ë¦¬**: ëª¨ë“  Caret ê¸°ëŠ¥ì´ `caret/` í´ë”ë¡œ ë¶„ë¦¬ë¨
- âœ… **ì˜ì¡´ì„± í•´ê²°**: í”„ë¡œí† ë²„í”„ ìƒì„±, íŒ¨í‚¤ì§€ ì„¤ì¹˜, cline ì†ŒìŠ¤ ë³µì‚¬ ì™„ë£Œ
- âœ… **í†µí•© ì‹œìŠ¤í…œ**: ExtensionEnhancer, WebviewEnhancer êµ¬í˜„ ì™„ë£Œ

### âŒ **ë‚¨ì€ ë¬¸ì œ (5%)**

#### **í•µì‹¬ ë¬¸ì œ: caret/tsconfig.json ì„¤ì • ëª¨ìˆœ**
```json
// í˜„ì¬ ì„¤ì • (ëª¨ìˆœì )
{
  "paths": {
    "@cline/*": ["../src/*"]    // â† ì´ ê²½ë¡œëŠ” ì •ìƒ (src/ëŠ” Caret ë©”ì¸ ì†ŒìŠ¤)
  },
  "exclude": [
    "../src/**/*"               // â† í•˜ì§€ë§Œ ì´ ê²½ë¡œë¥¼ ì œì™¸í•¨! (ë¬¸ì œ)
  ]
}
```

#### **ì˜¤ë¥˜ ì¦ìƒ**
```bash
$ npm run build:caret
# ê²°ê³¼: 10ê°œ ëª¨ë“ˆì„ ì°¾ì„ ìˆ˜ ì—†ìŒ (@core, @utils, @shared ë“±)
```

---

## ğŸ¯ **í•´ê²° ê³„íš**

### **Step 1: tsconfig.json ìˆ˜ì • (2ë¶„)**
```json
// caret/tsconfig.json ìˆ˜ì •
{
  "extends": "../tsconfig.json",
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@cline/*": ["../src/*"],  // â† ì •ìƒ ìœ ì§€ (src/ëŠ” Caret ë©”ì¸ ì†ŒìŠ¤)
      "@shared/*": ["../src/shared/*"]
    },
    "skipLibCheck": true
  },
  "include": [
    "backend/**/*",
    "frontend/**/*", 
    "config/**/*"
  ],
  "exclude": [
    "../cline/**/*",   // â† cline ì»´íŒŒì¼ ì œì™¸ ìœ ì§€
    "node_modules"              // â† ../src/**/* ì œê±° (í•µì‹¬ ìˆ˜ì •!)
  ]
}
```

### **Step 2: base-controller.ts import ìˆ˜ì • (1ë¶„)**
```typescript
// caret/backend/controllers/base-controller.ts
// í˜„ì¬ (ì˜ëª»):
// export interface ExtensionMessage { ... }

// ìˆ˜ì •:
import { ExtensionMessage, WebviewMessage } from "../../../src/shared/types"
```

### **Step 3: persona-controller.ts import ìˆ˜ì • (1ë¶„)**
```typescript
// caret/backend/controllers/persona-controller.ts
import { ExtensionMessage, WebviewMessage, Persona } from "../../../src/shared/types"
```

### **Step 4: ë¹Œë“œ í…ŒìŠ¤íŠ¸ (1ë¶„)**
```bash
npm run build:caret        # Caret ë ˆì´ì–´ë§Œ ì»´íŒŒì¼ ì„±ê³µ í™•ì¸
npm run compile            # ì „ì²´ ì»´íŒŒì¼ ì„±ê³µ í™•ì¸
```

---

## ğŸ¯ **ì™„ë£Œ ê¸°ì¤€**

### âœ… **ì„±ê³µ ê¸°ì¤€**
1. `npm run build:caret` â†’ 0 errors
2. `npm run compile` â†’ ì „ì²´ ë¹Œë“œ ì„±ê³µ
3. VSCodeì—ì„œ í™•ì¥ ì‹¤í–‰ ê°€ëŠ¥

### ğŸ“‹ **í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸**
- [ ] Caret ë¹Œë“œ ì„±ê³µ (`npm run build:caret`)
- [ ] íƒ€ì… ì²´í¬ ì„±ê³µ (`npm run check-types`)
- [ ] ë¦°íŠ¸ ì„±ê³µ (`npm run lint`) 
- [ ] esbuild ë²ˆë“¤ë§ ì„±ê³µ (`node esbuild.js`)
- [ ] VSCode í™•ì¥ ë¡œë“œ í…ŒìŠ¤íŠ¸

---

## â±ï¸ **ì˜ˆìƒ ì†Œìš” ì‹œê°„: 5ë¶„**

1. **tsconfig.json ìˆ˜ì •**: 1ë¶„
2. **TypeScript íŒŒì¼ ìˆ˜ì •**: 2ë¶„  
3. **ë¹Œë“œ í…ŒìŠ¤íŠ¸**: 2ë¶„

---

## ğŸš¨ **ì¤‘ìš” ì‚¬í•­**

### **ì ˆëŒ€ í•˜ì§€ ë§ ê²ƒ**
- âŒ **(ê°€ì¥ ì¤‘ìš”)** `cline` í´ë”ì˜ ì†ŒìŠ¤ ì½”ë“œë¥¼ ì§ì ‘ ìˆ˜ì •í•˜ëŠ” í–‰ìœ„
- âŒ Caretì˜ import ê²½ë¡œë¥¼ `cline`ì´ ì•„ë‹Œ ë‹¤ë¥¸ ê³³ìœ¼ë¡œ ë³€ê²½
- âŒ ì˜¤ë²„ë ˆì´ ì•„í‚¤í…ì²˜ êµ¬ì¡° ë³€ê²½

### **í•µì‹¬ ì›ì¹™**
- âœ… `Caret`ì€ `cline`ì„ importí•´ì„œ í™•ì¥í•˜ëŠ” ê²ƒì´ ì •ìƒì…ë‹ˆë‹¤.
- âœ… `cline`ì€ **ì½ê¸° ì „ìš©(Read-only)** ìœ¼ë¡œ ì·¨ê¸‰í•´ì•¼ í•©ë‹ˆë‹¤.
- âœ… ëª¨ë“  ìˆ˜ì •ì€ `caret/` í´ë” ë‚´ì—ì„œë§Œ ì´ë£¨ì–´ì ¸ì•¼ í•©ë‹ˆë‹¤.

---

## ğŸ“ **ì£¼ìš” íŒŒì¼ ìœ„ì¹˜**

```
caret-zero/
â”œâ”€â”€ caret/tsconfig.json                           â† ìˆ˜ì • ëŒ€ìƒ 1
â”œâ”€â”€ caret/backend/controllers/base-controller.ts  â† ìˆ˜ì • ëŒ€ìƒ 2  
â”œâ”€â”€ caret/backend/controllers/persona-controller.ts â† ìˆ˜ì • ëŒ€ìƒ 3
â””â”€â”€ src/shared/types.ts                           â† import ì†ŒìŠ¤
```

---

## ğŸ‰ **ì™„ë£Œ í›„ íš¨ê³¼**

1. **ì˜¤ë²„ë ˆì´ ì•„í‚¤í…ì²˜ 100% ì™„ì„±**
2. **Cline upstream ë¨¸ì§• ìë™í™” ê¸°ë°˜ êµ¬ì¶•**
3. **ê°œë°œ íš¨ìœ¨ì„± ê·¹ëŒ€í™”**

---

*ì‘ì„±: Alpha (ì•ŒíŒŒ) | ì¼ì‹œ: 2025-01-11*
*Task #030 í›„ì†ì‘ì—…ìœ¼ë¡œ ìµœì¢… 5% ë§ˆë¬´ë¦¬* 