# 태스크 #015: `replace_in_file` 도구 버그 조사

## 담당자
*   루크 (마스터)
*   알파 (AI)

## 목표
`replace_in_file` 도구가 특정 조건(특히 여러 줄로 구성된 복잡한 블록 삭제 시)에서 성공 메시지를 반환함에도 불구하고 실제 파일 내용을 수정하지 못하는 버그의 원인을 파악하고 해결합니다.

## 배경
2025-04-08 시스템 프롬프트 개선 보고서 작업 중, `replace_in_file` 도구를 사용하여 보고서 내 특정 섹션(여러 줄 JSON 블록 및 관련 설명)을 삭제하려고 시도했으나, 도구는 성공 메시지를 반환했음에도 불구하고 실제 파일 내용은 변경되지 않는 현상이 반복적으로 관찰되었습니다. 간단한 한 줄 텍스트 교체는 성공하는 것으로 보아, 복잡한 멀티라인 `SEARCH/REPLACE` 작업에서 문제가 발생하는 것으로 추정됩니다.

## 세부 작업
1.  **재현 테스트:** 다양한 종류의 멀티라인 `SEARCH/REPLACE` 시나리오(삭제, 수정 등)를 통해 `replace_in_file` 도구의 버그를 안정적으로 재현합니다.
2.  **원인 분석:**
    *   `replace_in_file` 도구의 내부 로직 검토 (관련 소스 코드 확인 필요).
    *   `SEARCH` 블록의 정확성, 공백/개행 문자 처리 방식 등 확인.
    *   파일 인코딩 또는 운영체제별 차이점 가능성 검토.
    *   도구 실행 환경 또는 의존성 문제 가능성 검토.
3.  **버그 수정:** 분석된 원인을 바탕으로 `replace_in_file` 도구의 코드를 수정합니다.
4.  **검증:** 수정된 도구를 사용하여 이전에 실패했던 시나리오 및 다양한 테스트 케이스를 실행하여 버그가 해결되었는지 확인합니다.
5.  **문서화:** 발견된 버그의 원인과 해결 과정을 기록합니다.

## 예상 결과물
*   수정된 `replace_in_file` 도구 코드.
*   버그 재현 및 해결 검증 테스트 케이스.
*   버그 분석 및 해결 과정 문서.

## 우선순위
*   높음 (AI의 파일 수정 능력에 직접적인 영향을 미치는 핵심 도구 버그)
